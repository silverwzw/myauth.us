function toggleRequiredField(e){var t=$(e);t.is(":disabled")?enableField(t):disableField(t),Support.getStatus()==="complete"&&UI.wakeButton(Support.submitButton)}function enableField(e){e.removeAttr("disabled"),e.val("")}function disableField(e){e.val("N/A"),e.attr("disabled","disabled")}function trim(e){return e.replace(/^\s+|\s+$/g,"")}$(document).ready(function(){Support.initialize()});var Support={form:"",requiredField:{},submitButton:{},initialize:function(){Support.form="#support-form",Support.requiredField=$(Support.form+" .form-row.required :input"),Support.requiredCheckboxField=$(Support.form+" .form-row-checkbox.required input"),Support.submitButton=$("#support-submit"),Support.hasSecondName=$("#hasSecondName"),Support.secondName=$("#secondName"),Support.hasSecondName=$("#hasSecondName");if(!Support.form.length)return!1;Support.hasSecondName.is(":checked")&&disableField(Support.secondName);var e=1;this.maxLength&&this.maxLength==6&&(e=6),Support.requiredField.bind("focus blur input propertychange",function(){$(this).val().length>=e&&setTimeout(function(){Support.getStatus()==="complete"&&UI.wakeButton(Support.submitButton)},250)}),Support.requiredCheckboxField.bind("focus blur input propertychange click",function(){$(this).val().length>0&&setTimeout(function(){Support.getStatus()==="complete"&&UI.wakeButton(Support.submitButton)})}),Support.hasSecondName.bind("click",function(e){toggleRequiredField(Support.secondName),e.stopImmediatePropagation()}),$("label[for=hasSecondName]").bind("click",function(e){return Support.secondName.is(":disabled")?Support.hasSecondName.removeAttr("checked"):Support.hasSecondName.attr("checked","checked"),toggleRequiredField(Support.secondName),!1}),$(Support.form).bind("submit",function(){var e=!1,t=[],n=$(Support.form+" input#email"),r=$(Support.form+" input[required]");for(var i=0;i<r.length;i++){var s=$(r[i]);s.val()!=""?(s.parents("span.input-right, span.input-text").removeClass("input-error"),s.parents("span.input-right").prev("span.input-left").removeClass("input-error"),s.parents("div.form-row").removeClass("form-error")):(e=!0,s.parents("span.input-right").addClass("input-error"),s.parents("span.input-right").prev("span.input-left").addClass("input-error"),s.parents("div.form-row").addClass("form-error"))}if(n.length===1&&n.val()){var o=new RegExp("^[0-9a-zA-Z+_.-]+@[0-9a-zA-Z_-]+\\.[0-9a-zA-Z_.-]+$");o.test($(Support.form+" input#email").val())?n.removeClass("form-error"):(n.parents("span.input-right").addClass("input-error"),n.parents("span.input-right").prev("span.input-left").addClass("input-error"),t.push(FormMsg.emailMissing),e=!0)}return e?(t.push(FormMsg.fieldsMissing),Support.insertErrorBox(t),window.location.href="#form-errors",!1):!0})},insertErrorBox:function(e){$("#content .alert").remove();var t=e.length,n="",r="",i='<div class="alert error closeable border-4 glow-shadow"><div class="alert-inner"><div class="alert-message"><p class="title"><strong><a name="form-errors"> </a>'+FormMsg[t>1?"headerMultiple":"headerSingular"]+"</strong></p>";if(t>1){i+="<ul>";for(var s=0;s<t;s++)i+="<li>"+e[s]+"</li>",n=n+", "+e[s],e[s]==FormMsg.emailMissing?r+=", error.email.invalid":e[s]==FormMsg.fieldsMissing&&(r+=", error.field.requiredFields");i+="</ul>"}else i+="<p>"+e[0]+"</p>";i+="</div></div></div>",$("#content").prepend(i),typeof lpMTagConfig!="undefined"&&lpMTagConfig.vars&&typeof lpSendData!="undefined"&&(lpMTagConfig.vars.push(["session","errors",n]),lpMTagConfig.vars.push(["session","errorCodes",r]),lpSendData())},getStatus:function(){Support.form.length||Support.initialize();var e=!0;Support.requiredField.filter(":text").each(function(){this.value||(e=!1)});var t={};Support.requiredField.filter(":radio, :checkbox").each(function(){t[this.name]=this.checked||t[this.name]||!1});var n=!0;for(var r in t)t.hasOwnProperty(r)&&(t[r]||(n=!1));var i=!0;return Support.requiredField.filter("select").each(function(){this.value==-1&&(i=!1)}),e&&n&&i?"complete":"incomplete"}}